import{openModal as d}from"./planejamento-diario-GX6Pjrzf.js";import{s as u,S as l}from"./index-2-HCTc4e.js";import{G as p}from"./goalManager-C8P1f7jB.js";import"./ai-BOEkcp8J.js";let n=null;const g=[{id:"social-1",text:'Enviar uma mensagem para um amigo da "tribo íntima"',completed:!1},{id:"social-2",text:"Ligar para um amigo ou familiar com quem não falo há tempos",completed:!1},{id:"social-3",text:"Pesquisar um grupo ou evento local de um hobby de interesse",completed:!1},{id:"social-4",text:'Praticar uma micro-interação positiva com um estranho (ex: um elogio, um "bom dia" atencioso)',completed:!1}],s={pageContainer:null,reflectionForm:null},v=e=>{const r=e.target.closest(".add-to-plan-btn");if(!r)return;const t=r.closest(".routine-block");if(!t)return;const i=t.dataset.description,a=t.dataset.category;i&&a&&d(void 0,{description:i,category:a})};function S(){s.reflectionForm&&s.reflectionForm.addEventListener("submit",e=>{e.preventDefault();const o=s.reflectionForm.querySelectorAll(".reflection-input"),r=s.reflectionForm.dataset.category;let t=0;const i=u.get(l.UNIFIED_REFLECTIONS)||[];o.forEach(a=>{const m=a.value.trim();if(m){const c=new Date,f={id:`${c.getTime()}-${Math.random()}`,category:r,title:a.dataset.title||"Reflexão",text:m,date:c.toISOString().split("T")[0],timestamp:c.getTime()};i.push(f),a.value="",t++}}),t>0?(u.set(l.UNIFIED_REFLECTIONS,i),window.showToast(`${t} reflex${t>1?"ões salvas":"ão salva"} com sucesso!`,"success")):window.showToast("Nenhuma reflexão preenchida para salvar.","info")})}function x(){const e=document.getElementById("page-social");if(!e)return;s.pageContainer=e,s.reflectionForm=e.querySelector(".reflection-form");const o=e.querySelector(".content-section");o==null||o.addEventListener("click",v),n=new p("page-social",l.SOCIAL_GOALS,"social-metas-list","social-metas-form","social-meta-input",g,"Social"),n.setup(),S()}function y(){n==null||n.show()}export{x as setup,y as show};
