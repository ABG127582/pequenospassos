import{openModal as m}from"./planejamento-diario-GX6Pjrzf.js";import{s as p,S as c}from"./index-2-HCTc4e.js";import{G as f}from"./goalManager-C8P1f7jB.js";import"./ai-BOEkcp8J.js";let r=null;const g=[{id:"espiritual-1",text:"Praticar 10 minutos de meditação Mindfulness",completed:!1},{id:"espiritual-2",text:"Escrever 3 coisas pelas quais sou grato(a) hoje",completed:!1},{id:"espiritual-3",text:"Definir uma intenção clara para o dia (ex: ser mais paciente)",completed:!1},{id:"espiritual-4",text:'Passar um tempo na natureza observando os detalhes ao redor (prática de "Awe")',completed:!1}],a={pageContainer:null,reflectionForm:null},E=e=>{const n=e.target.closest(".add-to-plan-btn");if(!n)return;const t=n.closest(".routine-block");if(!t)return;const i=t.dataset.description,s=t.dataset.category;i&&s&&m(void 0,{description:i,category:s})};function v(){a.reflectionForm&&a.reflectionForm.addEventListener("submit",e=>{e.preventDefault();const o=a.reflectionForm.querySelectorAll(".reflection-input"),n=a.reflectionForm.dataset.category;let t=0;const i=p.get(c.UNIFIED_REFLECTIONS)||[];o.forEach(s=>{const u=s.value.trim();if(u){const l=new Date,d={id:`${l.getTime()}-${Math.random()}`,category:n,title:s.dataset.title||"Reflexão",text:u,date:l.toISOString().split("T")[0],timestamp:l.getTime()};i.push(d),s.value="",t++}}),t>0?(p.set(c.UNIFIED_REFLECTIONS,i),window.showToast(`${t} reflex${t>1?"ões salvas":"ão salva"} com sucesso!`,"success")):window.showToast("Nenhuma reflexão preenchida para salvar.","info")})}function I(){const e=document.getElementById("page-espiritual");if(!e)return;a.pageContainer=e,a.reflectionForm=e.querySelector(".reflection-form");const o=e.querySelector(".content-section");o==null||o.addEventListener("click",E),r=new f("page-espiritual",c.ESPIRITUAL_GOALS,"espiritual-metas-list","espiritual-metas-form","espiritual-meta-input",g,"Espiritual"),r.setup(),v()}function x(){r==null||r.show()}export{I as setup,x as show};
