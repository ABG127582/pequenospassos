import{openModal as p}from"./planejamento-diario-BwMrShPe.js";import{s as d,S as c}from"./index-DWo9Znp-.js";import{G as u}from"./goalManager-BAlV9yV_.js";import"./ai-BOEkcp8J.js";let n=null;const g=[{id:"profissional-1",text:"Dedicar 30 minutos à prática deliberada de uma habilidade chave",completed:!1},{id:"profissional-2",text:'Realizar uma "auditoria de energia" ao final do dia de trabalho',completed:!1},{id:"profissional-3",text:"Definir e respeitar um ritual de início e fim do expediente",completed:!1},{id:"profissional-4",text:'Revisar o alinhamento de uma tarefa atual com meus valores e "Ikigai"',completed:!1}],a={pageContainer:null,reflectionForm:null},h=e=>{const r=e.target.closest(".add-to-plan-btn");if(!r)return;const t=r.closest(".routine-block");if(!t)return;const s=t.dataset.description,i=t.dataset.category;s&&i&&p(void 0,{description:s,category:i})};function v(){a.reflectionForm&&a.reflectionForm.addEventListener("submit",e=>{e.preventDefault();const o=a.reflectionForm.querySelectorAll(".reflection-input"),r=a.reflectionForm.dataset.category;let t=0;const s=d.get(c.UNIFIED_REFLECTIONS)||[];o.forEach(i=>{const f=i.value.trim();if(f){const l=new Date,m={id:`${l.getTime()}-${Math.random()}`,category:r,title:i.dataset.title||"Reflexão",text:f,date:l.toISOString().split("T")[0],timestamp:l.getTime()};s.push(m),i.value="",t++}}),t>0?(d.set(c.UNIFIED_REFLECTIONS,s),window.showToast(`${t} reflex${t>1?"ões salvas":"ão salva"} com sucesso!`,"success")):window.showToast("Nenhuma reflexão preenchida para salvar.","info")})}function I(){const e=document.getElementById("page-profissional");if(!e)return;a.pageContainer=e,a.reflectionForm=e.querySelector(".reflection-form");const o=e.querySelector(".content-section");o==null||o.addEventListener("click",h),n=new u("page-profissional",c.PROFISSIONAL_GOALS,"profissional-metas-list","profissional-metas-form","profissional-meta-input",g,"Profissional"),n.setup(),v()}function R(){n==null||n.show()}export{I as setup,R as show};
